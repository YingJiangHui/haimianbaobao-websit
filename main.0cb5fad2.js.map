{"version":3,"sources":["src/main.js"],"names":["document","documentElement","clientWidth","clientHeight","holeDataList","size","x","y","item","h","w","rotate","hole","createElement","classList","add","style","width","height","left","top","app","appendChild","Eyes","eye","ball","ballCenterX","Math","floor","offsetWidth","ballCenterY","offsetHeight","ballX","getBoundingClientRect","ballY","maxMove","events","window","addEventListener","e","touchMove","mouseMove","pointX","pointY","remove","pointRadian","atan2","pointRadius","radius","ballPos","pos_xy","min","setPos","clientX","clientY","move","targetTouches","radian","sin","cos","pos","sqrt","pow","leftEye","querySelector","rightEye","init"],"mappings":"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","file":"main.0cb5fad2.js","sourceRoot":"..","sourcesContent":["const {clientWidth, clientHeight} = document.documentElement\r\nconst holeDataList = [\r\n    {size: 80, x: '20%', y: '10%'},\r\n    {size: 100, x: '10%', y: '80%'},\r\n    {size: 70, x: '80%', y: '10%'},\r\n    {size: 110, x: '0', y: '60%'},\r\n    {size: 90, x: '80%', y: '80%'},\r\n]\r\nfor (let item of holeDataList) {\r\n    const {size, h, w, rotate, x, y} = item\r\n    const hole = document.createElement('div')\r\n    hole.classList.add('hole')\r\n    hole.classList.add('round')\r\n    hole.style.width = `${size}px`\r\n    hole.style.height = `${size}px`\r\n    hole.style.left = x\r\n    hole.style.top = y\r\n    app.appendChild(hole)\r\n}\r\n\r\n\r\nclass Eyes {\r\n    constructor(eye, ball) {\r\n        this.ball = ball\r\n        this.eye = eye\r\n        this.ballCenterX = Math.floor(ball.offsetWidth / 2)\r\n        this.ballCenterY = Math.floor(ball.offsetHeight / 2)\r\n        this.ballX = ball.getBoundingClientRect().left + this.ballCenterX\r\n        this.ballY = ball.getBoundingClientRect().top + this.ballCenterY\r\n        this.maxMove = Math.floor(this.eye.clientWidth / 2 - this.ballCenterX)\r\n    }\r\n\r\n    init() {\r\n        this.events()\r\n    }\r\n\r\n    events() {\r\n        if (clientWidth <= 500) {\r\n            window.addEventListener('touchmove', (e) => this.touchMove(e))\r\n        } else {\r\n            window.addEventListener('mousemove', (e) => this.mouseMove(e))\r\n        }\r\n    }\r\n    move(pointX,pointY){\r\n        this.ball.classList.remove('center')\r\n        let pointRadian = Math.atan2(pointX, pointY) // 弧度\r\n        let pointRadius = Math.floor(this.radius({ //半径\r\n            x:pointX - this.ballCenterX,\r\n            y:pointY - this.ballCenterY\r\n        }))\r\n\r\n        let ballPos = this.pos_xy(Math.min(this.maxMove, pointRadius / 5), pointRadian) //位置\r\n        this.setPos(Math.floor(ballPos.x + this.maxMove), Math.floor(ballPos.y + this.maxMove))\r\n    }\r\n    mouseMove(e) {\r\n        let pointX = e.clientX - this.ballX\r\n        let pointY = e.clientY - this.ballY\r\n        this.move(pointX ,pointY)\r\n    }\r\n    touchMove(e) {\r\n        let pointX = e.targetTouches[0].clientX - this.ballX\r\n        let pointY = e.targetTouches[0].clientY - this.ballY\r\n        this.move(pointX ,pointY)\r\n    }\r\n    setPos(left, top) {\r\n        this.ball.style.top = `${top}px`\r\n        this.ball.style.left = `${left}px`\r\n    }\r\n\r\n    pos_xy(radius, radian) {\r\n        return {\r\n            x: Math.floor(Math.sin(radian) * radius),\r\n            y: Math.floor(Math.cos(radian) * radius),\r\n        }\r\n    }\r\n\r\n    radius(pos) {\r\n        const {x,y} = pos\r\n        return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2))\r\n    }\r\n}\r\n\r\n\r\nconst leftEye = new Eyes(document.querySelector('.leftEye'), document.querySelector('.leftEye .ball'))\r\nconst rightEye = new Eyes(document.querySelector('.rightEye'), document.querySelector('.rightEye .ball'))\r\nleftEye.init()\r\nrightEye.init()"]}